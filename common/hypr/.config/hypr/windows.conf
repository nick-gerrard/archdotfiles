############################## 
### WINDOWS AND WORKSPACES ###
##############################

# -- Steam & Launcher Rules --
# Syntax: windowrule = effect value, match:prop regex

windowrule = float on, match:class ^(launcher)$
windowrule = no_anim on, match:class ^(launcher)$
windowrule = size 1000 750, match:class ^(launcher)$
windowrule = center on, match:class ^(launcher)$

windowrule = float on, match:title ^(Sharing)$

# -- Steam Grouped Rules --
windowrule = float on, match:class ^(Steam|steam|steamwebhelper)$
windowrule = no_shadow on, match:class ^(Steam|steam|steamwebhelper)$
windowrule = no_blur on, match:class ^(Steam|steam|steamwebhelper)$

# -- Gamescope & Steam Apps --
# Note: 'idleinhibit' is now 'idle_inhibit'
windowrule = idle_inhibit always, match:class ^(gamescope)$
windowrule = fullscreen on, match:class ^(steam_app_.*)$
windowrule = render_unfocused on, match:class ^(steam_app_.*)$
windowrule = immediate on, match:class ^(steam_app_.*)$
windowrule = idle_inhibit always, match:class ^(steam_app_.*)$
windowrule = allows_input on, match:class ^(steam_app_.*)$

# Fullscreen state matchers (doc says match:fullscreen [bool])
windowrule = immediate on, match:fullscreen 1
windowrule = idle_inhibit always, match:fullscreen 1

# -- Utility Floats --
windowrule = float on, match:class ^(com.github.pikaos-linux.pikmanupdatemanager)$
windowrule = float on, match:class ^(io.github.lact-linux)$
windowrule = float on, match:class ^(com.saivert.pwvucontrol)$

# -- Layer Rules --
# Doc: layerrule = effect value, match:namespace regex
layerrule = no_anim on, match:namespace ^(wayfreeze)$

# -- Global Fixes --
# Doc: 'suppressevent' is now 'suppress_event'
windowrule = suppress_event maximize, match:class .*

# XWayland Fix (Chained matchers)
# "All props must match for a rule to be applied"
windowrule = no_focus on, match:class ^$, match:title ^$, match:xwayland 1, match:float 1, match:fullscreen 0, match:pin 0

# -- Network & Audio --
windowrule = float on, match:class ^(nm-connection-editor)$
windowrule = size 50% 50%, match:class ^(nm-connection-editor)$
windowrule = center on, match:class ^(nm-connection-editor)$

windowrule = float on, match:class ^(org.pulseaudio.pavucontrol)$
windowrule = size 50% 50%, match:class ^(org.pulseaudio.pavucontrol)$
windowrule = center on, match:class ^(org.pulseaudio.pavucontrol)$

windowrule = float on, match:class ^(firefox)$, match:title ^(File Upload)$
windowrule = center on, match:class ^(firefox)$, match:title ^(File Upload)$

# -- Special Workspace: WhatsApp --
# Doc: workspace [w] is an effect
windowrule = workspace special:messages, match:class ^(WebApp-WhatsApp\d{4})$
windowrule = float on, match:class ^(WebApp-WhatsApp\d{4})$
windowrule = no_initial_focus on, match:class ^(WebApp-WhatsApp\d{4})$
windowrule = size 70% 80%, match:class ^(WebApp-WhatsApp\d{4})$
windowrule = center on, match:class ^(WebApp-WhatsApp\d{4})$

# -- Special Workspace: Magic --
windowrule = workspace special:magic, match:class ^(signal)$
windowrule = tile on, match:class ^(signal)$

windowrule = workspace special:magic, match:class ^(discord)$
windowrule = tile on, match:class ^(discord)$

# -- Workspace Definitions --
# (These are workspace rules, not window rules, and usually remain separate)
workspace = special:messages, layoutopt:orientation:top
